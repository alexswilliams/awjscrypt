'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};function md5(a){md=new MD5;var b;if('string'==typeof a)b=md.makeByteArray(a);else if('object'!==('undefined'==typeof a?'undefined':_typeof(a)))throw new TypeError('Expected a Uint8Array or a string, but got a '+('undefined'==typeof a?'undefined':_typeof(a)));else if(a instanceof Uint8Array)b=a;else throw new TypeError('Expected a Uint8Array or a string, but got a '+a.constructor.name);return md.update(b,b.length),md.makeHexString(md.final())}function MD5(){this.init()}MD5.prototype.MD5_BLOCK_LENGTH=64,MD5.prototype.MD5_DIGEST_LENGTH=16,MD5.prototype.MD5_DIGEST_STRING_LENGTH=2*MD5.prototype.MD5_DIGEST_LENGTH+1,MD5.prototype.put64LittleEndian=function(a,b){a[7]=0,a[6]=0,a[5]=0,a[4]=0,a[3]=255&b>>>24,a[2]=255&b>>>16,a[1]=255&b>>>8,a[0]=255&b},MD5.prototype.put32LittleEndian=function(a,b,c){a[3+b]=255&c>>>24,a[2+b]=255&c>>>16,a[1+b]=255&c>>>8,a[0+b]=255&c},MD5.prototype.PADDING=Uint8Array.from([128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),MD5.prototype.init=function(){this.context={count:0,state:[1732584193,4023233417,2562383102,271733878],buffer:new Uint8Array(this.MD5_BLOCK_LENGTH)}},MD5.prototype.update=function(a,b){var c=this.context.count/8&this.MD5_BLOCK_LENGTH-1,d=this.MD5_BLOCK_LENGTH-c;this.context.count+=8*b;var e=0,f=b;if(f>=d)for(0!=c&&(this.byteArrayCopy(this.context.buffer,c,a,e,d),this.transform(),e+=d,f-=d,c=0);f>=this.MD5_BLOCK_LENGTH;)this.byteArrayCopy(this.context.buffer,0,a,e,this.MD5_BLOCK_LENGTH),this.transform(),e+=this.MD5_BLOCK_LENGTH,f-=this.MD5_BLOCK_LENGTH;0!==f&&this.byteArrayCopy(this.context.buffer,c,a,e,f)},MD5.prototype.byteArrayCopy=function(a,b,c,d,e){for(var f=0;f<e;f++)a[b+f]=c[d+f]},MD5.prototype.pad=function(){var a=new Uint8Array(8);this.put64LittleEndian(a,this.context.count);var b=this.MD5_BLOCK_LENGTH-(this.context.count/8&this.MD5_BLOCK_LENGTH-1);b<9&&(b+=this.MD5_BLOCK_LENGTH),this.update(this.PADDING,b-8),this.update(a,8)},MD5.prototype.final=function(){var a=new Uint8Array(this.MD5_DIGEST_LENGTH);console.log(this.context.state,this.context.buffer),this.pad(),console.log(this.context.count,this.context.state,this.context.buffer);for(var b=0;4>b;b++)this.put32LittleEndian(a,4*b,this.context.state[b]),console.log(a);return this.explicitZero(),this.init(),a},MD5.prototype.explicitZero=function(){this.context.count=0,this.context.state[0]=0,this.context.state[1]=0,this.context.state[2]=0,this.context.state[3]=0;for(var a=0;64>a;a++)this.context.buffer[a]=0},MD5.prototype.f1=function(a,b,c){return c^a&(b^c)},MD5.prototype.f2=function(a,b,c){return MD5.prototype.f1(c,a,b)},MD5.prototype.f3=function(a,b,c){return a^b^c},MD5.prototype.f4=function(a,b,c){return b^(a|~c)},MD5.prototype.step=function(a,b,c,d,e,f,g){var h=b+a(c,d,e)+f;return h=h<<g|h>>>32-g,h+=c,4294967295&h},MD5.prototype.bufferToDwordArray=function(){for(var b=new Uint32Array(this.MD5_BLOCK_LENGTH/4),c=0;c<this.MD5_BLOCK_LENGTH/4;c++)b[c]=this.context.buffer[4*c]|this.context.buffer[4*c+1]<<8|this.context.buffer[4*c+2]<<16|this.context.buffer[4*c+3]<<24;return intArray},MD5.prototype.transform=function(){var e=this.bufferToDwordArray();console.log('TRANSFORM');var f=this.context.state[0],a=this.context.state[1],b=this.context.state[2],c=this.context.state[3];f=this.step(this.f1,f,a,b,c,e[0]+3614090360,7),c=this.step(this.f1,c,f,a,b,e[1]+3905402710,12),b=this.step(this.f1,b,c,f,a,e[2]+606105819,17),a=this.step(this.f1,a,b,c,f,e[3]+3250441966,22),f=this.step(this.f1,f,a,b,c,e[4]+4118548399,7),c=this.step(this.f1,c,f,a,b,e[5]+1200080426,12),b=this.step(this.f1,b,c,f,a,e[6]+2821735955,17),a=this.step(this.f1,a,b,c,f,e[7]+4249261313,22),f=this.step(this.f1,f,a,b,c,e[8]+1770035416,7),c=this.step(this.f1,c,f,a,b,e[9]+2336552879,12),b=this.step(this.f1,b,c,f,a,e[10]+4294925233,17),a=this.step(this.f1,a,b,c,f,e[11]+2304563134,22),f=this.step(this.f1,f,a,b,c,e[12]+1804603682,7),c=this.step(this.f1,c,f,a,b,e[13]+4254626195,12),b=this.step(this.f1,b,c,f,a,e[14]+2792965006,17),a=this.step(this.f1,a,b,c,f,e[15]+1236535329,22),f=this.step(this.f2,f,a,b,c,e[1]+4129170786,5),c=this.step(this.f2,c,f,a,b,e[6]+3225465664,9),b=this.step(this.f2,b,c,f,a,e[11]+643717713,14),a=this.step(this.f2,a,b,c,f,e[0]+3921069994,20),f=this.step(this.f2,f,a,b,c,e[5]+3593408605,5),c=this.step(this.f2,c,f,a,b,e[10]+38016083,9),b=this.step(this.f2,b,c,f,a,e[15]+3634488961,14),a=this.step(this.f2,a,b,c,f,e[4]+3889429448,20),f=this.step(this.f2,f,a,b,c,e[9]+568446438,5),c=this.step(this.f2,c,f,a,b,e[14]+3275163606,9),b=this.step(this.f2,b,c,f,a,e[3]+4107603335,14),a=this.step(this.f2,a,b,c,f,e[8]+1163531501,20),f=this.step(this.f2,f,a,b,c,e[13]+2850285829,5),c=this.step(this.f2,c,f,a,b,e[2]+4243563512,9),b=this.step(this.f2,b,c,f,a,e[7]+1735328473,14),a=this.step(this.f2,a,b,c,f,e[12]+2368359562,20),f=this.step(this.f3,f,a,b,c,e[5]+4294588738,4),c=this.step(this.f3,c,f,a,b,e[8]+2272392833,11),b=this.step(this.f3,b,c,f,a,e[11]+1839030562,16),a=this.step(this.f3,a,b,c,f,e[14]+4259657740,23),f=this.step(this.f3,f,a,b,c,e[1]+2763975236,4),c=this.step(this.f3,c,f,a,b,e[4]+1272893353,11),b=this.step(this.f3,b,c,f,a,e[7]+4139469664,16),a=this.step(this.f3,a,b,c,f,e[10]+3200236656,23),f=this.step(this.f3,f,a,b,c,e[13]+681279174,4),c=this.step(this.f3,c,f,a,b,e[0]+3936430074,11),b=this.step(this.f3,b,c,f,a,e[3]+3572445317,16),a=this.step(this.f3,a,b,c,f,e[6]+76029189,23),f=this.step(this.f3,f,a,b,c,e[9]+3654602809,4),c=this.step(this.f3,c,f,a,b,e[12]+3873151461,11),b=this.step(this.f3,b,c,f,a,e[15]+530742520,16),a=this.step(this.f3,a,b,c,f,e[2]+3299628645,23),f=this.step(this.f4,f,a,b,c,e[0]+4096336452,6),c=this.step(this.f4,c,f,a,b,e[7]+1126891415,10),b=this.step(this.f4,b,c,f,a,e[14]+2878612391,15),a=this.step(this.f4,a,b,c,f,e[5]+4237533241,21),f=this.step(this.f4,f,a,b,c,e[12]+1700485571,6),c=this.step(this.f4,c,f,a,b,e[3]+2399980690,10),b=this.step(this.f4,b,c,f,a,e[10]+4293915773,15),a=this.step(this.f4,a,b,c,f,e[1]+2240044497,21),f=this.step(this.f4,f,a,b,c,e[8]+1873313359,6),c=this.step(this.f4,c,f,a,b,e[15]+4264355552,10),b=this.step(this.f4,b,c,f,a,e[6]+2734768916,15),a=this.step(this.f4,a,b,c,f,e[13]+1309151649,21),f=this.step(this.f4,f,a,b,c,e[4]+4149444226,6),c=this.step(this.f4,c,f,a,b,e[11]+3174756917,10),b=this.step(this.f4,b,c,f,a,e[2]+718787259,15),a=this.step(this.f4,a,b,c,f,e[9]+3951481745,21),this.context.state[0]+=f,this.context.state[1]+=a,this.context.state[2]+=b,this.context.state[3]+=c},MD5.prototype.makeByteArray=function(a){for(var b,c=[],d=0;d<a.length;d++){b=a.charCodeAt(d);do c.push(255&b),b>>=8;while(0<b)}return Uint8Array.from(arrayOut)},MD5.prototype.makeHexString=function(a){for(var b=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'],c=0;c<a.length;c++){var d=15&a[c]>>4,e=15&a[c];b[d]+b[e]}return stringOut},MD5.prototype.dwordToHex=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,c=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];return n8=15&a>>28,n7=15&a>>24,n6=15&a>>20,n5=15&a>>16,n4=15&a>>12,n3=15&a>>8,n2=15&a>>4,n1=15&a>>0,(b?'0x':'')+''+c[n8]+c[n7]+c[n6]+c[n5]+c[n4]+c[n3]+c[n2]+c[n1]};
